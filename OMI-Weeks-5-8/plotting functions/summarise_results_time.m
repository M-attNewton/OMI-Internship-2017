% A summary of all the results for varying time, with each dependency method in a seperate figure.  

function [str2] = summarise_results_time(largest_R_Bt,largest_R_Ct,...
    largest_R_Sfiltert,largest_R_Ft,largest_R_Sresamplet,largest_R_St,...
    largest_R_Cresamplet,largest_R_Cfiltert,...
    merit_R_Bt,merit_R_Ct,merit_R_Sfiltert,merit_R_Ft,merit_R_Sresamplet,...
    merit_R_St,merit_R_Cresamplet,merit_R_Cfiltert,...
    R_Bt,R_Ct,R_Sfiltert,R_Ft,R_Sresamplet,R_St,R_Cresamplet,R_Cfiltert,...
    summarise_data,summarise_standard,summarise_standard_resample,...
    summarise_standard_filter,summarise_brownian,summarise_fourier,...
    summarise_copula,summarise_copula_resample,summarise_copula_filter,...
    relate_feature_list,interval_list)

% Dummy variable to make code work.
str2 = 'done';

% Conditional statements to plot the required figures.
if summarise_data == 1
    
   if summarise_standard == 1
             
       % Creates the releveant figure.
       f_standard = figure('Name','Standard Correlation Results Summary','NumberTitle','off');
       figure(f_standard);
       
       % Goes through each matrix (time interval) and plots the data on the
       % figure at different locations.  
       % The sizes and locations of each component will be automatically 
       % assigned to fit the figure
       for i = 1:size(R_St,3)
                    
           % Displays the dependency matrix in a table, takes up 60% of 
           % the figure.
           table_standard(i) = uitable(f_standard,'Data',R_St(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_St,3)) 0.6 1/size(R_St,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           % Displays the time intervals for each matrix, takes up 10% of
           % the figure.
           table_standard2(i) = uitable(f_standard,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_St,3)) 0.1 1/size(R_St,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           % Displays a list of the most significant values along with
           % their relevant features, takes up 20% of the figure.
           table_standard3(i) = uitable(f_standard,'Data',largest_R_St(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_St,3)) 0.2 1/size(R_St,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');
           
           % Displays the value of differential entropy, takes up 10% of
           % the figure.
           table_standard4(i) = uitable(f_standard,'Data',real(merit_R_St(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_St,3)) 0.1 1/size(R_St,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
           
       end
       
   end
    
   if summarise_standard_resample == 1
       
       % Comments are not repeated as they are the same.
       f_standard_resample = figure('Name','Standard Correlation Resampled Results Summary','NumberTitle','off');
       figure(f_standard_resample);       
       
       for i = 1:size(R_Sresamplet,3)
           
           table_standard_resample(i) = uitable(f_standard_resample,'Data',R_Sresamplet(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Sresamplet,3)) 0.6 1/size(R_Sresamplet,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_standard_resample2(i) = uitable(f_standard_resample,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Sresamplet,3)) 0.1 1/size(R_Sresamplet,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_standard_resample3(i) = uitable(f_standard_resample,'Data',largest_R_Sresamplet(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Sresamplet,3)) 0.2 1/size(R_Sresamplet,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');
                     
           table_standard_resample4(i) = uitable(f_standard_resample,'Data',real(merit_R_Sresamplet(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Sresamplet,3)) 0.1 1/size(R_Sresamplet,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
       
       end
              
   end
   
   if summarise_standard_filter == 1
       
       f_standard_filter = figure('Name','Standard Correlation Resampled and Filtered Results Summary','NumberTitle','off');
       figure(f_standard_filter);       
       
       for i = 1:size(R_Sfiltert,3)
           
           table_standard_filter(i) = uitable(f_standard_filter,'Data',R_Sfiltert(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Sfiltert,3)) 0.6 1/size(R_Sfiltert,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_standard_filter2(i) = uitable(f_standard_filter,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Sfiltert,3)) 0.1 1/size(R_Sfiltert,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_standard_filter3(i) = uitable(f_standard_filter,'Data',largest_R_Sfiltert(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Sfiltert,3)) 0.2 1/size(R_Sfiltert,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');
           
           table_standard_filter4(i) = uitable(f_standard_filter,'Data',real(merit_R_Sfiltert(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Sfiltert,3)) 0.1 1/size(R_Sfiltert,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
       
       end
              
   end
   
   if summarise_brownian == 1
       
       f_brownian = figure('Name','Brownian Estimator Results Summary','NumberTitle','off');
       figure(f_brownian);       
      
       for i = 1:size(R_Bt,3)
           
           table_brownian(i) = uitable(f_brownian,'Data',R_Bt(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Bt,3)) 0.6 1/size(R_Bt,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_brownian2(i) = uitable(f_brownian,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Bt,3)) 0.1 1/size(R_Bt,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_brownian3(i) = uitable(f_brownian,'Data',largest_R_Bt(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Bt,3)) 0.2 1/size(R_Bt,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');
           
                      
           table_brownian4(i) = uitable(f_brownian,'Data',real(merit_R_Bt(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Bt,3)) 0.1 1/size(R_Bt,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
       
       end
       
   end
   
   if summarise_fourier == 1
       
       f_fourier = figure('Name','Fourier Estimator Results Summary','NumberTitle','off');
       figure(f_fourier);       

       for i = 1:size(R_Ft,3)
           
           table_fourier(i) = uitable(f_fourier,'Data',R_Ft(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Ft,3)) 0.6 1/size(R_Ft,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_fourier2(i) = uitable(f_fourier,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Ft,3)) 0.1 1/size(R_Ft,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_fourier3(i) = uitable(f_fourier,'Data',largest_R_Ft(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Bt,3)) 0.2 1/size(R_Bt,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');         
           
           table_fourier4(i) = uitable(f_fourier,'Data',real(merit_R_Ft(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Ft,3)) 0.1 1/size(R_Ft,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
       
       end
              
   end
   
   if summarise_copula == 1
       
       f_copula = figure('Name','Copula Estimator Results Summary','NumberTitle','off');
       figure(f_copula);       
       
       for i = 1:size(R_Ct,3)
           
           table_copula(i) = uitable(f_copula,'Data',R_Ct(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Ct,3)) 0.6 1/size(R_Ct,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_copula2(i) = uitable(f_copula,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Ct,3)) 0.1 1/size(R_Ct,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_copula3(i) = uitable(f_copula,'Data',largest_R_Ct(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Ct,3)) 0.2 1/size(R_Ct,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');

           table_copula4(i) = uitable(f_copula,'Data',real(merit_R_Ct(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Ct,3)) 0.1 1/size(R_Ct,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
           
       end
              
   end
   
   if summarise_copula_resample == 1
       
       f_copula_resample = figure('Name','Copula Estimator Resampled Results Summary','NumberTitle','off');
       figure(f_copula_resample);       
       
       for i = 1:size(R_Cresamplet,3)
           
           table_copula_resample(i) = uitable(f_copula_resample,'Data',R_Cresamplet(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Cresamplet,3)) 0.6 1/size(R_Cresamplet,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_copula_resample2(i) = uitable(f_copula_resample,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Cresamplet,3)) 0.1 1/size(R_Cresamplet,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_copula_resample3(i) = uitable(f_copula_resample,'Data',largest_R_Cresamplet(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Cresamplet,3)) 0.2 1/size(R_Cresamplet,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');

           table_copula_resample4(i) = uitable(f_copula_resample,'Data',real(merit_R_Cresamplet(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Cresamplet,3)) 0.1 1/size(R_Cresamplet,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
           
       end
              
   end
   
   if summarise_copula_filter == 1
       
       f_copula_filter = figure('Name','Copula Estimator Resampled and Filtered Results Summary','NumberTitle','off');
       figure(f_copula_filter);       
       
       for i = 1:size(R_Cfiltert,3)
           
           table_copula_filter(i) = uitable(f_copula_filter,'Data',R_Cfiltert(:,:,i),...
               'Units','Normalized','Position',[0 (1 - (i)/size(R_Cfiltert,3)) 0.6 1/size(R_Cfiltert,3)],...
               'RowName',relate_feature_list,'ColumnName',relate_feature_list,...
               'ColumnWidth','auto');
           
           table_copula_filter2(i) = uitable(f_copula_filter,'Data',[],...
               'Units','Normalized','Position',[0.6 (1 - (i)/size(R_Cfiltert,3)) 0.1 1/size(R_Cfiltert,3)],...
               'RowName',{'Start Time';datestr(interval_list(i));'';'End Time';datestr(interval_list(i+1))},...
               'ColumnWidth','auto');

           table_copula_filter3(i) = uitable(f_copula_filter,'Data',largest_R_Cfiltert(:,:,i),...
               'Units','Normalized','Position',[0.7 (1 - (i)/size(R_Cfiltert,3)) 0.2 1/size(R_Cfiltert,3)],...
               'ColumnName',{'Feature 1';'Feature 2';'Value'},...
               'ColumnWidth','auto');

           table_copula_filter4(i) = uitable(f_copula_filter,'Data',real(merit_R_Cfiltert(i)),...
               'Units','Normalized','Position',[0.9 (1 - (i)/size(R_Cfiltert,3)) 0.1 1/size(R_Cfiltert,3)],...
               'ColumnName',{'Entropy'},...
               'ColumnWidth','auto');
           
       end
              
   end
        
end

end

